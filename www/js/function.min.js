const repub=()=>{navigator.notification.alert("You republished this meme.",repub_done,"Republished","Acknowledge")},comment=()=>{navigator.notification.alert("You commented this meme.",repub_done,"Commented","Acknowledge")},subscribe=()=>{navigator.notification.alert("You subscribed to this user.",repub_done,"Subscribed","Acknowledge")},likeMeme=(e,t)=>{let a=e.data("memeid"),i=$(`#count-${a}`),s=$(`#like-${a}`),l=$(`#dislike-${a}`);t.likeMeme(a,s.hasClass("meme-give"),(e,t)=>{if(!t)return;let a;try{a=(a=JSON.parse(e.data)).data}catch(e){(a={}).liked=!1,a.likes=0,a.dislikes=0}i.html(a.likes-a.dislikes),a.liked?(s.removeClass("meme-give"),s.addClass("meme-given")):(s.removeClass("meme-given"),s.addClass("meme-give")),l.removeClass("meme-taken"),l.addClass("meme-take")})},likeComment=(e,t)=>{let a=$(`#comment-count-${e}`),i=$(`#comment-like-${e}`),s=$(`#comment-dislike-${e}`);t.likeComment(e,i.hasClass("comment-give"),(e,t)=>{if(!t)return;let l;try{l=(l=JSON.parse(e.data)).data}catch(e){(l={}).liked=!1,l.likes=0,l.dislikes=0}a.html(l.likes-l.dislikes),l.liked?(i.removeClass("comment-give"),i.addClass("comment-given")):(i.removeClass("comment-given"),i.addClass("comment-give")),s.removeClass("comment-taken"),s.addClass("comment-take")})},dislikeMeme=(e,t)=>{let a=e.data("memeid"),i=$(`#count-${a}`),s=$("#like-"+a),l=$("#dislike-"+a);t.dislikeMeme(a,l.hasClass("meme-take"),(e,t)=>{if(!t)return;let a;try{a=(a=JSON.parse(e.data)).data}catch(e){(a={}).disliked=!1,a.likes=0,a.dislikes=0}i.html(a.likes-a.dislikes),a.disliked?(l.removeClass("meme-take"),l.addClass("meme-taken")):(l.removeClass("meme-taken"),l.addClass("meme-take")),s.removeClass("meme-given"),s.addClass("meme-give")})},dislikeComment=(e,t)=>{let a=$(`#comment-count-${e}`),i=$(`#comment-like-${e}`),s=$(`#comment-dislike-${e}`);t.dislikeComment(e,s.hasClass("comment-take"),(e,t)=>{if(!t)return;let l;try{l=(l=JSON.parse(e.data)).data}catch(e){(l={}).disliked=!1,l.likes=0,l.dislikes=0}a.html(l.likes-l.dislikes),l.disliked?(s.removeClass("comment-take"),s.addClass("comment-taken")):(s.removeClass("comment-taken"),s.addClass("comment-take")),i.removeClass("comment-given"),i.addClass("comment-give")})},repub_done=()=>{},stop_media=e=>{if(!e)return;let t=e.hash,a=$(`#${t} video`).get(0);a&&(a.pause(),a.currentTime=0)},play_media=e=>{if(!e)return;let t=e.hash,a=$(`#${t} video`).get(0);a&&a.play();let i=$(`#${t} audio`);i&&i.trigger("play")},resizeIframe=e=>{try{e.style.height=e.contentWindow.document.documentElement.scrollHeight+"px",window.mySwipe&&window.mySwipe.update()}catch(e){console.log(e)}},create_context=(e,t,a)=>({title:t,items:a,x:$(e).position().left,y:$(e).position().top}),setInvisible=e=>{e.style.opacity=0,e.style.filter="alpha(opacity=0)"},fadeIn=e=>{e.style.display="block";var t=.1,a=setInterval(()=>{t>=1&&clearInterval(a),e.style.opacity=t,e.style.filter=`alpha(opacity=${100*t})`,t+=.1*t},20)},getDaysAgo=e=>Math.round(Math.abs((new Date-e)/864e5)),fadeOut=e=>{var t=1,a=setInterval(()=>{t<=.1&&(clearInterval(a),e.style.display="none"),e.style.opacity=t,e.style.filter=`alpha(opacity=${100*t})`,t-=.1*t},50)},getType=e=>{window.resolveLocalFileSystemURI(e,e=>{e.file(e=>alert(e.type),()=>alert("error getting MIME type"))},e=>{})},copyToClipboard=e=>{if(!(t=document.getElementById("_hiddenCopyText_"))){var t=document.createElement("textarea");t.style.position="absolute",t.style.left="-9999px",t.style.top="0",t.id="_hiddenCopyText_",document.body.appendChild(t)}t.textContent=e.textContent;let a,i=document.activeElement;t.focus(),t.setSelectionRange(0,t.value.length);try{a=document.execCommand("copy")}catch(e){a=!1}return i&&"function"==typeof i.focus&&i.focus(),t.textContent="",a};