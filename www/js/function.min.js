function repub(){navigator.notification.alert("You republished this meme.",repub_done,"Republished","Acknowledge")}function comment(){navigator.notification.alert("You commented this meme.",repub_done,"Commented","Acknowledge")}function subscribe(){navigator.notification.alert("You subscribed to this user.",repub_done,"Subscribed","Acknowledge")}function like(parent,noku){let id=parent.data("memeid");let like_counter=$("#count-"+id);let liked=$("#like-"+id);let disliked=$("#dislike-"+id);noku.likeMeme(id,liked.hasClass("meme-give"),function(response,worked){if(!worked)return;var data;try{data=JSON.parse(response.data);data=data.data}catch(e){data={};data.liked=false;data.likes=0;data.dislikes=0}like_counter.html(data.likes-data.dislikes);if(data.liked){liked.removeClass("meme-give");liked.addClass("meme-given")}else{liked.removeClass("meme-given");liked.addClass("meme-give")}disliked.removeClass("meme-taken");disliked.addClass("meme-take")})}function dislike(parent,noku){let id=parent.data("memeid");let like_counter=$("#count-"+id);let liked=$("#like-"+id);let disliked=$("#dislike-"+id);noku.dislikeMeme(id,disliked.hasClass("meme-take"),function(response,worked){if(!worked)return;var data;try{data=JSON.parse(response.data);data=data.data}catch(e){data={};data.disliked=false;data.likes=0;data.dislikes=0}like_counter.html(data.likes-data.dislikes);if(data.disliked){disliked.removeClass("meme-take");disliked.addClass("meme-taken")}else{disliked.removeClass("meme-taken");disliked.addClass("meme-take")}liked.removeClass("meme-given");liked.addClass("meme-give")})}function repub_done(){}function stop_media(meme){let hash=meme.hash;var video=$("#"+hash+" video").get(0);if(video!=null){video.pause();video.currentTime=0}var audio=$("#"+hash+" audio");if(audio[0]!=null){audio[0].pause();audio.prop("currentTime",0)}}function play_media(meme){let hash=meme.hash;let video=$("#"+hash+" video").get(0);if(video!=null)video.play();let audio=$("#"+hash+" audio");if(audio!=null)audio.trigger("play")}function setInvisible(element){element.style.opacity=0;element.style.filter="alpha(opacity=0)"}function fadeIn(element){var op=.1;element.style.display="block";var timer=setInterval(function(){if(op>=1){clearInterval(timer)}element.style.opacity=op;element.style.filter="alpha(opacity="+op*100+")";op+=op*.1},20)}function getDaysAgo(created){const oneDay=24*60*60*1e3;return Math.round(Math.abs((new Date-created)/oneDay))}function fadeOut(element){var op=1;var timer=setInterval(function(){if(op<=.1){clearInterval(timer);element.style.display="none"}element.style.opacity=op;element.style.filter="alpha(opacity="+op*100+")";op-=op*.1},50)}function getType(file_URI){window.resolveLocalFileSystemURI(file_URI,function(fileEntry){fileEntry.file(function(filee){alert(filee.type)},function(){alert("error getting MIME type")})},function(error){})}